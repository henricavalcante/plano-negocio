<navigation></navigation>

<div class="col-md-9 col-sm-9" ng-if="!plano.passosConcluidos().plano07">
  <div name="div02" class="panel panel-default">
      <div class="panel-heading">
          <h3 class="panel-title">Você ainda não preencheu os passos anteriores!</h3>
      </div>

      <div class="panel-body">
        Preencha o passo anterior!
      </div>
  </div>
</div>

<div class="col-md-9 col-sm-9" ng-if="plano.passosConcluidos().plano07">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Passo 8 - Receitas operacionais</h3>
    </div>

    <form name="plano.form08" class="panel-body">
      <h5><strong>Quais serão as receitas operacionais mensais?</strong></h5>
      <help
        class="pull-right"
        explicacao="Aqui serão identificados e quantificados financeiramente, os itens de receita da empresa, e através de pesquisa de mercado será estipulado o preço unitário de venda para cada um dos produtos previstos para  fabricação."
        servico='<table class="table table-striped table-bordered"> <tr> <th colspan="5" class="text-center">RECEITAS OPERACIONAIS MENSAIS</th> </tr> <tr> <td>Discriminação</td> <td>Unidade</td> <td>Preço Unitário (R$)</td> <td>Quantidade</td> <td>Custo Total (R$)</td> </tr> <tr> <td>Visita com orçamento</td> <td></td> <td>10,00</td> <td>30,00</td> <td>300,00</td> </tr> <tr> <td>Limpeza de filtro</td> <td></td> <td>30,00</td> <td>25,00</td> <td>750,00</td> </tr> <tr> <td>Substituição de peças</td> <td></td> <td>15,00</td> <td>15,00</td> <td>225,00</td> </tr> <tr> <td>Recarga de gás</td> <td></td> <td>18,00</td> <td>15,00</td> <td>270,00</td> </tr> <tr> <td>Revisão geral</td> <td></td> <td>55,00</td> <td>15,00</td> <td>825,00</td> </tr> <tr> <td colspan="4">TOTAL</td> <td>2.370,00</td> </tr> </table>'
        industria='<table class="table table-striped table-bordered"> <tr> <th colspan="5" class="text-center">RECEITAS OPERACIONAIS MENSAIS</th> </tr> <tr> <td>Discriminação</td> <td>Unidade</td> <td>Preço Unitário (R$)</td> <td>Quantidade</td> <td>Custo Total (R$)</td> </tr> <tr> <td>Velas comuns</td> <td>Pacote</td> <td>7,50</td> <td>200,00</td> <td>1,500,00</td> </tr> <tr> <td>Velas sete dias</td> <td>Pacote</td> <td>9,50</td> <td>150,00</td> <td>1.425,00</td> </tr> <tr> <td colspan="4">TOTAL</td> <td>2.925,00</td> </tr> </table>'
        comercio='<table class="table table-striped table-bordered"> <tr> <th colspan="5" class="text-center">RECEITAS OPERACIONAIS MENSAIS</th> </tr> <tr> <td>Discriminação</td> <td>Unidade</td> <td>Preço Unitário (R$)</td> <td>Quantidade</td> <td>Custo Total (R$)</td> </tr> <tr> <td>Tinta Latéx</td> <td>lata</td> <td>22,50</td> <td>20,00</td> <td>450,00</td> </tr> <tr> <td>Tinta Acrílica</td> <td>lata</td> <td>30,00</td> <td>15,00</td> <td>450,00</td> </tr> <tr> <td>Massa Corrida</td> <td>lata</td> <td>15,00</td> <td>15,00</td> <td>225,00</td> </tr> <tr> <td>Massa Acílica</td> <td>lata</td> <td>20,00</td> <td>15,00</td> <td>300,00</td> </tr> <tr> <td>Esmalte sintético</td> <td>lata</td> <td>5,00</td> <td>12,00</td> <td>60,00</td> </tr> <tr> <td>Rolos e trichas</td> <td>peças</td> <td>10,00</td> <td>15,00</td> <td>150,00</td> </tr> <tr> <td>Resinas e vernizes</td> <td>lata</td> <td>17,00</td> <td>15,00</td> <td>255,00</td> </tr> <tr> <td>Lixas</td> <td>folhas</td> <td>0,70</td> <td>50,00</td> <td>35,00</td> </tr> <tr> <td>Solventes</td> <td>lata</td> <td>11,00</td> <td>15,00</td> <td>165,00</td> </tr> <tr> <td colspan="4">TOTAL</td> <td>2.090,00</td> </tr> </table>'>
      </help>
      <div class="clearfix"></div>
      <hr>
      <div class="row">
        <div class="form-group col-md-6">
          <label for="">Descrição</label>
          <input
            class="form-control"
            type="text"
            ng-model="receita.descricao"
            ng-required="true">
        </div>
        <div class="form-group col-md-2">
          <label for="">Unidade</label>
          <input
            class="form-control"
            type="text"
            ng-model="receita.unidade"
            ng-required="true">
        </div>
        <div class="form-group col-md-2">
          <label for="">Quantidade</label>
          <input
            class="form-control"
            type="number"
            ng-model="receita.quantidade"
            ng-required="true">
        </div>
        <div class="form-group col-md-2">
          <label for="">Valor</label>
          <input
            class="form-control"
            type="number"
            ng-model="receita.valor"
            ng-required="true">
        </div>
      </div>

      <button
        class="btn btn-default"
        ng-disabled="plano.form08.$invalid"
        ng-click="plano.adicionarReceita(receita)">
        Adicionar
      </button>

      <button
        class="btn btn-danger"
        ng-click="plano.removerReceita(plano.dados.receitas)"
        ng-if="plano.isReceitaSelecionada(plano.dados.receitas)">
        Remover
      </button>
    </form>

    <table
      class="table table-striped table-bordered"
      ng-show="plano.dados.receitas.length > 0">
      <tr>
        <th></th>
        <th>Descrição</th>
        <th>Unidade</th>
        <th>Quantidade</th>
        <th>Valor</th>
        <th>Total</th>
      </tr>
      <tr ng-repeat="i in plano.dados.receitas">
        <td><input type="checkbox" ng-model="i.selecionado"></td>
        <td>{{i.descricao}}</td>
        <td>{{i.unidade}}</td>
        <td>{{i.quantidade}}</td>
        <td>{{i.valor | currency}}</td>
        <td>{{i.valor * i.quantidade | currency}}</td>
      </tr>
      <tr>
        <td colspan="5"><strong>TOTAL GERAL:</strong></td>
        <td><strong>{{plano.totalGeral(plano.dados.receitas) | currency}}</strong></td>
      </tr>
    </table>
  </div>

  <button
    class="btn btn-primary btn-block btn-lg"
    ng-disabled="plano.dados.receitas == null || plano.dados.receitas.length < 1"
    ng-click="plano.save(plano.dados)">
      Salvar
  </button>
</div>
